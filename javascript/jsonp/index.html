<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
</head>

<body>
  <input type="text" id="jsonp-test">
  <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      // $('#jsonp-test').on('input propertychange', function() {
      //   // $('#result').html($(this).val().length + ' characters');
      //   console.log($(this).val());
      //
      //
      // });
      //
      $('#jsonp-test').on('input blur', function() {
        // $('#result').html($(this).val().length + ' characters');
        // console.log($(this).val());
        // var obj = {
        //   url: 'http://suggestion.baidu.com/su?wd=%E5%A4%A9&cb=window.baidu.sug',
        //   dataType: 'jsonp',
        //   data: '',
        //   // jsonp: 'callback',
        //   success: function(result) {
        //       console.log(result);
        //   },
        //   timeout: 3000
        // }
        // $.ajax(obj);
        var sugurl = "http://suggestion.baidu.com/su?wd=#content#&cb=window.baidu.sug";
         var content = $(this).val();
        sugurl = sugurl.replace("#content#", content);
        console.log(sugurl);
        //动态添加JS脚本
        var script = document.createElement("script");
        script.src = sugurl;
        document.getElementsByTagName("head")[0].appendChild(script);

        window.baidu = {
          sug: function(json){
            console.log(json);
          }
        }

      });
    })
  </script>

</body>

</html>
